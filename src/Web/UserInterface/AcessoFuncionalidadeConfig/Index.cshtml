<div class="modal-content" ng-controller="acessoFuncionalidadeController">
    <div>Acesso a Funcionalidades</div>

    {{error}}
    {{sucesso}}
    <div class="control-group">

        <div class="input-group input-group-lg">
            <input type="radio" ng-model="acessoFuncionalidade.PapelId" value=1 ng-click="carregarPerfis()"> Perfil
            <input type="radio" ng-model="acessoFuncionalidade.PapelId" value=2 ng-click="carregarAreas()"> Área
            <input type="radio" ng-model="acessoFuncionalidade.PapelId" value=3 ng-click="carregarUsuarios()"> Usuário

            <span class="input-group-addon"><i class="fa fa-lock"></i></span>

            <select class="form-control"
                    ng-model="acessoFuncionalidade.AtorId"
                    ng-options="perfil.Id as perfil.Nome for perfil in perfis"
                    ng-change="carregarFormulario()"
                    ng-show="acessoFuncionalidade.PapelId == 1">
                <option value="">Selecione o perfil</option>
            </select>

            <select class="form-control"
                    ng-model="acessoFuncionalidade.AtorId"
                    ng-options="area.Id as area.Nome for area in areas"
                    ng-change="carregarFormulario()"
                    ng-show="acessoFuncionalidade.PapelId == 2">
                <option value="">Selecione Área</option>
            </select>

            <select class="form-control"
                    ng-model="acessoFuncionalidade.AtorId"
                    ng-options="usuario.Id as usuario.Nome for usuario in usuarios"
                    ng-change="carregarFormulario()"
                    ng-show="acessoFuncionalidade.PapelId == 3">
                <option value="">Selecione o Usuario</option>
            </select>
        </div>

        <div style="height:530px; overflow:auto">
            <div ng-repeat="funcionalidade in acessoFuncionalidade.Funcionalidades">
                <div class="form-control">
                    <input type="checkbox" ng-model="acessoFuncionalidade.Funcionalidades[$index].Marcado" />
                    <Label>{{funcionalidade.Nome}}</Label>
                </div>
            </div>
        </div>
    </div>
    <div>
        <button class="btn btn-primary" ng-click="salvar(acessoFuncionalidade)">Salvar</button>
    </div>
</div>